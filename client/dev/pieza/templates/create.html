<div class="pieza-container">
  <div class="row">
    <div class="col-md-12">
      <h1 class="submenu-title">Productos > Piezas > Nueva pieza</h1>
    </div>
  </div>
  <br><br>
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <form class="pieza-form"
            [ngFormModel]="piezaForm"
            (submit)="save(piezaForm)">

        <div class="form-group">
          <label for="id">Identificador de pieza:</label>
          <input type="text" class="form-control" id="id" 
              ngControl="_id"
              [class.formulario-error]="!piezaForm.valid"
              autofocus />
        </div>
        <div class="form-group">
          <label for="modelo">Modelo:</label>
          <select name="modelo" class="form-control" id="modelo" 
              ngControl="modelo"
              [class.formulario-error]="!piezaForm.valid">
            <option *ngFor="#model of modelos" >{{model.nombre}}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="estado">Estado:</label>
          <select name="estado" class="form-control" id="estado" 
              ngControl="estado"
              [class.formulario-error]="!piezaForm.valid" placeholder="Selecciona el estado...">
            <option value="Nuevo">Nuevo</option>
            <option value="Usado">Usado</option>
            <option value="Rota">Rota</option>
            <option value="Reparando">Reparando</option>
          </select>
        </div>
        <div class="form-group">
          <label for="lote">Lote:</label>
          <input type="text" class="form-control" id="lote" 
              ngControl="lote"
              [class.formulario-error]="!piezaForm.valid"
              autofocus />
        </div>
        <div class="form-group">
          <label for="caracteristicas">Características:</label>
          <input type="text" class="form-control" id="caracteristicas" 
              ngControl="caracteristicas"
              [class.formulario-error]="!piezaForm.valid"
              autofocus />
        </div>
        <div class="form-group">
          <label for="almacen">Almacén de ubicación:</label>
          <input type="text" class="form-control" id="almacen" 
              ngControl="almacen"
              [class.formulario-error]="!piezaForm.valid"
              autofocus />
        </div>
        <div class="form-group">
          <label for="almacenOrigen">Almacén de procedencia:</label>
          <input type="text" class="form-control" id="almacenOrigen" 
              ngControl="almacenOrigen"
              [class.formulario-error]="!piezaForm.valid"
              autofocus />
        </div>
        <div class="form-group">
          <label for="vendido">¿Está vendida?:</label>
          <select name="vendido" class="form-control" id="vendido" 
              ngControl="vendido"
              [class.formulario-error]="!piezaForm.valid" placeholder="¿Está vendida?">
            <option value="false">No</option>   
            <option value="true">Si</option>
          </select>
        </div>
        <div class="form-group">
          <label for="precio">Precio:</label>
          <input type="text" class="form-control" id="precio" 
              ngControl="precio"
              [class.formulario-error]="!piezaForm.valid"
              autofocus />
        </div>
        <div class="form-group">
          <label for="compuestoPor">Componentes de la pieza para añadir:</label>
          <input type="text" class="form-control" id="compuestoPor" 
              ngControl="compuestoPor"
              [class.formulario-error]="!piezaForm.valid"
              autofocus />
          <a (click)="plus(piezaForm);"><i class="fa fa-plus" aria-hidden="true"></i></a> 
        </div>
        <div *ngIf="components.length>0">
          <h5><i class="fa fa-list"></i>Componentes de la pieza:</h5>

          <div *ngFor="#p of components;" >
            {{p}} <button class="btn btn-danger btn-xs" (click)="minus(p);"><i class="fa fa-trash-o "></i></button><!--<a (click)="minus(p);"><i class="fa fa-trash-o" aria-hidden="true"></i></a> -->
          </div>
        </div>
        <br><br>
        <button type="submit" [disabled]="!piezaForm.valid" class="btn btn-formulario pull-right margen-izda"><i class="fa fa-floppy-o" aria-hidden="true"></i> Guardar pieza</button>
      </form>
      <button (click)="gotoIndex()" class="btn btn-formulario pull-right margen-izda"><i class="fa fa-angle-left" aria-hidden="true"></i> Volver</button>
    </div>
  </div>
</div>

        <!-- <br/>Identificador de pieza:<br/>
        <input type="text"
               ngControl="_id"
               [class.formulario-error]="!piezaForm.valid"
               placeholder="Identificador de pieza"
               autofocus />
       <br/>Modelo:<br/> -->
      <!--  <select name="modelo"
               ngControl ="modelo"
               [class.formulario-error]="!piezaForm.valid"
               placeholder="Modelo de pieza">
               <option *ngFor="#model of modelos" >{{model.nombre}}</option>
               </select>
      <br/>Estado:<br/> -->
     <!--  <select name="estado"
               ngControl="estado"
               placeholder="Selecciona el estado.."
               [class.formulario-error]="!piezaForm.valid">
               <option value="Nuevo">Nuevo</option>
               <option value="Usado">Usado</option>
               <option value="Rota">Rota</option>
               <option value="Reparando">Reparando</option>
              </select>
     <br/>Lote:<br/> -->
      <!-- <input type="text"
               ngControl="lote"
               [class.formulario-error]="!piezaForm.valid"
               placeholder="Lote"
               autofocus /> -->
     <!-- <br/>Caracteristicas:<br/>
      <input type="text"
               ngControl="caracteristicas"
               [class.formulario-error]="!piezaForm.valid"
               placeholder="Caracteristicas"
               autofocus /> -->
       <!-- <br/>Almacén de ubicación:<br/>
      <input type="text"
               ngControl="almacen"
               [class.formulario-error]="!piezaForm.valid"
               placeholder="Almacén"
               autofocus />
     <br/>Almacén de procedencia:<br/>
      <input type="text"
               ngControl="almacenOrigen"
               [class.formulario-error]="!piezaForm.valid"
               placeholder="Almacén de procedencia"
               autofocus /> -->
     <!--  <br/>¿Está vendida?:<br/>
      <select name="vendido"
               ngControl="vendido"
               placeholder="¿Está vendida?"
               [class.formulario-error]="!piezaForm.valid">
               <option value="false">No</option>   
               <option value="true">Si</option>
              </select> -->
      <!-- <br/>Precio:<br/>
      <input type="text"
               ngControl="precio"
               [class.formulario-error]="!piezaForm.valid"
               placeholder="Precio"
               autofocus /> -->
       <!-- <br/>Componentes de la pieza para añadir:<br/>        
       <input type="text"
               ngControl="compuestoPor"
               placeholder="Compuesta por..."
               autofocus />   
               <a (click)="plus(piezaForm);"><i class="fa fa-plus" aria-hidden="true"></i></a> 

    <div *ngIf="components.length>0">
      <h5><i class="fa fa-list"></i>Componentes de la pieza:</h5>

        <div *ngFor="#p of components;" >
          {{p}} <button class="btn btn-danger btn-xs" (click)="minus(p);"><i class="fa fa-trash-o "></i></button><!--<a (click)="minus(p);"><i class="fa fa-trash-o" aria-hidden="true"></i></a> -->
        <!-- </div>
      </div>  -->
    <!-- <br/><br/>
        <button type="submit"
                [disabled]="!piezaForm.valid">Añadir</button>

    </form>

<button (click)="gotoIndex()">Back</button>
 -->